# Пример расчета многоуровневой системы для подбора ноутбука

## Структура иерархии (4 уровня)

### Уровень 0: Цель
**Цель:** Выбор ноутбука для работы

### Уровень 1: Основные критерии (2 элемента)
- **Производительность**
- **Стоимость**

### Уровень 2: Подкритерии (4 элемента)
**Для "Производительность":**
- Процессор
- Оперативная память

**Для "Стоимость":**
- Цена покупки
- Стоимость обслуживания

### Уровень 3: Альтернативы (3 элемента)
- Ноутбук A (MacBook Pro)
- Ноутбук B (Dell XPS)
- Ноутбук C (Lenovo ThinkPad)

---

## Шаг 1: Сравнение критериев уровня 1

### Матрица сравнения: Производительность vs Стоимость

|                | Производительность | Стоимость |
|----------------|-------------------|-----------|
| Производительность | 1                | 3         |
| Стоимость       | 1/3 (0.333)      | 1         |

**Расчет приоритетов уровня 1:**
- Геометрическое среднее для "Производительность": √(1 × 3) = √3 = 1.732
- Геометрическое среднее для "Стоимость": √(0.333 × 1) = √0.333 = 0.577
- Сумма: 1.732 + 0.577 = 2.309
- **Приоритет "Производительность":** 1.732 / 2.309 = **0.750** (75%)
- **Приоритет "Стоимость":** 0.577 / 2.309 = **0.250** (25%)

**Проверка согласованности:**
- λ_max = 2.0
- CI = (2.0 - 2) / (2 - 1) = 0
- CR = 0 (для матрицы 2×2 согласованность всегда идеальна)

---

## Шаг 2: Сравнение подкритериев для "Производительность"

### Матрица сравнения: Процессор vs Оперативная память

|                | Процессор | ОЗУ |
|----------------|-----------|-----|
| Процессор      | 1         | 2   |
| ОЗУ            | 1/2 (0.5) | 1   |

**Расчет приоритетов:**
- Геометрическое среднее для "Процессор": √(1 × 2) = √2 = 1.414
- Геометрическое среднее для "ОЗУ": √(0.5 × 1) = √0.5 = 0.707
- Сумма: 1.414 + 0.707 = 2.121
- **Приоритет "Процессор":** 1.414 / 2.121 = **0.667** (66.7%)
- **Приоритет "ОЗУ":** 0.707 / 2.121 = **0.333** (33.3%)

---

## Шаг 3: Сравнение подкритериев для "Стоимость"

### Матрица сравнения: Цена покупки vs Стоимость обслуживания

|                      | Цена покупки | Стоимость обслуживания |
|----------------------|--------------|------------------------|
| Цена покупки         | 1            | 5                      |
| Стоимость обслуживания | 1/5 (0.2)  | 1                      |

**Расчет приоритетов:**
- Геометрическое среднее для "Цена покупки": √(1 × 5) = √5 = 2.236
- Геометрическое среднее для "Стоимость обслуживания": √(0.2 × 1) = √0.2 = 0.447
- Сумма: 2.236 + 0.447 = 2.683
- **Приоритет "Цена покупки":** 2.236 / 2.683 = **0.833** (83.3%)
- **Приоритет "Стоимость обслуживания":** 0.447 / 2.683 = **0.167** (16.7%)

---

## Шаг 4: Сравнение альтернатив по каждому подкритерию

### 4.1. Сравнение ноутбуков по критерию "Процессор"

|            | MacBook Pro | Dell XPS | ThinkPad |
|------------|-------------|----------|----------|
| MacBook Pro | 1           | 1/3 (0.333) | 1/5 (0.2) |
| Dell XPS   | 3           | 1        | 1/2 (0.5) |
| ThinkPad   | 5           | 2        | 1        |

**Расчет приоритетов:**
- Геометрическое среднее:
  - MacBook Pro: ∛(1 × 0.333 × 0.2) = ∛0.0666 = 0.405
  - Dell XPS: ∛(3 × 1 × 0.5) = ∛1.5 = 1.145
  - ThinkPad: ∛(5 × 2 × 1) = ∛10 = 2.154
- Сумма: 0.405 + 1.145 + 2.154 = 3.704
- **Приоритеты:**
  - MacBook Pro: 0.405 / 3.704 = **0.109** (10.9%)
  - Dell XPS: 1.145 / 3.704 = **0.309** (30.9%)
  - ThinkPad: 2.154 / 3.704 = **0.582** (58.2%)

**Проверка согласованности:**
- λ_max ≈ 3.003
- CI = (3.003 - 3) / (3 - 1) = 0.0015
- RI (для n=3) = 0.58
- CR = 0.0015 / 0.58 = **0.0026** (0.26%) ✅ Отличная согласованность

---

### 4.2. Сравнение ноутбуков по критерию "ОЗУ"

|            | MacBook Pro | Dell XPS | ThinkPad |
|------------|-------------|----------|----------|
| MacBook Pro | 1           | 2        | 1/2 (0.5) |
| Dell XPS   | 1/2 (0.5)   | 1        | 1/3 (0.333) |
| ThinkPad   | 2           | 3        | 1        |

**Расчет приоритетов:**
- Геометрическое среднее:
  - MacBook Pro: ∛(1 × 2 × 0.5) = ∛1 = 1.000
  - Dell XPS: ∛(0.5 × 1 × 0.333) = ∛0.1665 = 0.550
  - ThinkPad: ∛(2 × 3 × 1) = ∛6 = 1.817
- Сумма: 1.000 + 0.550 + 1.817 = 3.367
- **Приоритеты:**
  - MacBook Pro: 1.000 / 3.367 = **0.297** (29.7%)
  - Dell XPS: 0.550 / 3.367 = **0.163** (16.3%)
  - ThinkPad: 1.817 / 3.367 = **0.540** (54.0%)

---

### 4.3. Сравнение ноутбуков по критерию "Цена покупки"

|            | MacBook Pro | Dell XPS | ThinkPad |
|------------|-------------|----------|----------|
| MacBook Pro | 1           | 1/5 (0.2) | 1/7 (0.143) |
| Dell XPS   | 5           | 1        | 1/3 (0.333) |
| ThinkPad   | 7           | 3        | 1        |

**Расчет приоритетов:**
- Геометрическое среднее:
  - MacBook Pro: ∛(1 × 0.2 × 0.143) = ∛0.0286 = 0.306
  - Dell XPS: ∛(5 × 1 × 0.333) = ∛1.665 = 1.185
  - ThinkPad: ∛(7 × 3 × 1) = ∛21 = 2.759
- Сумма: 0.306 + 1.185 + 2.759 = 4.250
- **Приоритеты:**
  - MacBook Pro: 0.306 / 4.250 = **0.072** (7.2%)
  - Dell XPS: 1.185 / 4.250 = **0.279** (27.9%)
  - ThinkPad: 2.759 / 4.250 = **0.649** (64.9%)

---

### 4.4. Сравнение ноутбуков по критерию "Стоимость обслуживания"

|            | MacBook Pro | Dell XPS | ThinkPad |
|------------|-------------|----------|----------|
| MacBook Pro | 1           | 3        | 5        |
| Dell XPS   | 1/3 (0.333) | 1        | 2        |
| ThinkPad   | 1/5 (0.2)   | 1/2 (0.5) | 1        |

**Расчет приоритетов:**
- Геометрическое среднее:
  - MacBook Pro: ∛(1 × 3 × 5) = ∛15 = 2.466
  - Dell XPS: ∛(0.333 × 1 × 2) = ∛0.666 = 0.873
  - ThinkPad: ∛(0.2 × 0.5 × 1) = ∛0.1 = 0.464
- Сумма: 2.466 + 0.873 + 0.464 = 3.803
- **Приоритеты:**
  - MacBook Pro: 2.466 / 3.803 = **0.648** (64.8%)
  - Dell XPS: 0.873 / 3.803 = **0.230** (23.0%)
  - ThinkPad: 0.464 / 3.803 = **0.122** (12.2%)

---

## Шаг 5: Расчет глобальных приоритетов

### Структура приоритетов:

```
Цель (1.0)
├── Производительность (0.750)
│   ├── Процессор (0.667)
│   │   ├── MacBook Pro: 0.109
│   │   ├── Dell XPS: 0.309
│   │   └── ThinkPad: 0.582
│   └── ОЗУ (0.333)
│       ├── MacBook Pro: 0.297
│       ├── Dell XPS: 0.163
│       └── ThinkPad: 0.540
└── Стоимость (0.250)
    ├── Цена покупки (0.833)
    │   ├── MacBook Pro: 0.072
    │   ├── Dell XPS: 0.279
    │   └── ThinkPad: 0.649
    └── Стоимость обслуживания (0.167)
        ├── MacBook Pro: 0.648
        ├── Dell XPS: 0.230
        └── ThinkPad: 0.122
```

### Расчет глобальных приоритетов для каждой альтернативы:

**MacBook Pro:**
- По Процессору: 0.750 × 0.667 × 0.109 = 0.0545
- По ОЗУ: 0.750 × 0.333 × 0.297 = 0.0742
- По Цене покупки: 0.250 × 0.833 × 0.072 = 0.0150
- По Стоимости обслуживания: 0.250 × 0.167 × 0.648 = 0.0270
- **Глобальный приоритет:** 0.0545 + 0.0742 + 0.0150 + 0.0270 = **0.1707** (17.07%)

**Dell XPS:**
- По Процессору: 0.750 × 0.667 × 0.309 = 0.1546
- По ОЗУ: 0.750 × 0.333 × 0.163 = 0.0407
- По Цене покупки: 0.250 × 0.833 × 0.279 = 0.0581
- По Стоимости обслуживания: 0.250 × 0.167 × 0.230 = 0.0096
- **Глобальный приоритет:** 0.1546 + 0.0407 + 0.0581 + 0.0096 = **0.2630** (26.30%)

**ThinkPad:**
- По Процессору: 0.750 × 0.667 × 0.582 = 0.2910
- По ОЗУ: 0.750 × 0.333 × 0.540 = 0.1349
- По Цене покупки: 0.250 × 0.833 × 0.649 = 0.1352
- По Стоимости обслуживания: 0.250 × 0.167 × 0.122 = 0.0051
- **Глобальный приоритет:** 0.2910 + 0.1349 + 0.1352 + 0.0051 = **0.5662** (56.62%)

---

## Финальные результаты

### Ранжирование альтернатив:

| Ранг | Ноутбук      | Глобальный приоритет | Процент |
|------|--------------|---------------------|---------|
| 1    | **ThinkPad** | 0.5662              | **56.62%** |
| 2    | Dell XPS     | 0.2630              | 26.30%  |
| 3    | MacBook Pro  | 0.1707              | 17.07%  |

### Выводы:

1. **ThinkPad** получает наивысший приоритет (56.62%) благодаря:
   - Лучшей оценке по процессору (58.2%)
   - Лучшей оценке по ОЗУ (54.0%)
   - Самой низкой цене покупки (64.9%)
   - Хотя обслуживание дороже, но этот фактор имеет низкий вес (16.7%)

2. **Dell XPS** занимает второе место (26.30%) с хорошим балансом всех характеристик

3. **MacBook Pro** получает низкий приоритет (17.07%) из-за:
   - Высокой цены покупки (7.2% - худший показатель)
   - Средних показателей по процессору (10.9%)
   - Хотя обслуживание дешевле, но это не компенсирует высокую цену

### Рекомендация:

**Выбрать Lenovo ThinkPad** как оптимальный вариант для работы, учитывая приоритет производительности (75%) и важность цены покупки (83.3% от критерия стоимости).

---

## Формулы расчета

### Геометрическое среднее для матрицы n×n:
```
GM_i = (∏(a_ij))^(1/n)
```

### Приоритет элемента:
```
P_i = GM_i / Σ(GM_j)
```

### Глобальный приоритет альтернативы:
```
GP_alt = Σ(P_parent × P_subcriteria × P_alternative)
```

### Проверка согласованности:
```
λ_max = (1/n) × Σ((A × P)_i / P_i)
CI = (λ_max - n) / (n - 1)
CR = CI / RI
```

Где RI - случайный индекс согласованности (для n=3: 0.58, n=4: 0.90, n=5: 1.12)
